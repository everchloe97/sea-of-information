---
title: typeORM 1+N 문제

date: 2022-08-11
---

## 면접 질문

1 + N 문제를 겪어보신 적이 있나요? 어떻게 해결하셨나요? 어떻게 해결하는지 알고 계신가요?

## 답변

-   다른 JPA에서는 디폴트 타입이 레이지 로딩이나 이거 로딩 타입이지만 typeorm은 그렇지 않습니다
-   명시하지 않는다면 이거도 레이지도 아닙니다
-   헌데 제가 데이터를 불러오기 위해 eager 타입을 피드의 manytoone 데코레이터에 적용을 해본 적이 있습니다
-   그렇게 하니까 user에 해당하는 피드들이 함께 조회되었지만, SQL문이 몇배가 되는 N+1의 문제가 발생한적이있습니다
-   이 때 find 메소드에 객체로 relations에 feed를 추가해 join해서 쿼리를 단축시키거나 쿼리빌더의 레프트조인을 통해 해결했었습니다

## 질문 의도

-   JPA 상에서 일어나는 1+N 문제를 알아두는게 좋을 거같아 기록해놓겠습니다
-   나중에 세부사항 추가하겠습니다
